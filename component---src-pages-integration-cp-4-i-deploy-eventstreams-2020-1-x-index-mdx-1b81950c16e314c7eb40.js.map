{"version":3,"sources":["webpack:///./src/pages/integration/cp4i-deploy-eventstreams-2020.1.x/index.mdx"],"names":["_frontmatter","makeShortcode","name","props","console","warn","InlineNotification","AnchorLinks","AnchorLink","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-integration-cp-4-i-deploy-eventstreams-2020-1-x-index-mdx-1b81950c16e314c7eb40.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/ibm-cloud-architecture/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst AnchorLinks = makeShortcode(\"AnchorLinks\");\nconst AnchorLink = makeShortcode(\"AnchorLink\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p>{`Version 2020.2 is out for Cloud Pak for Ingegration.  This version is the first to feature Operators and has significant changes to the deployment and operations.  Please refer to the `}<a parentName=\"p\" {...{\n          \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSGT7J_20.2/overview.html\"\n        }}>{`Knowledge Center`}</a>{` while we update this playbook.  Thanks!`}</p>\n    </InlineNotification>\n    <AnchorLinks mdxType=\"AnchorLinks\">\n  <AnchorLink mdxType=\"AnchorLink\">Introduction</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Prepare Installation</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Begin Installation</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Validate Installation</AnchorLink>\n    </AnchorLinks>\n    <h3><strong parentName=\"h3\">{`Introduction`}</strong></h3>\n    <p>{`This page contains guidance on how to configure the Event Streams release\nfor both on-prem and IBM Cloud.`}</p>\n    <ul>\n    </ul>\n    <h3><strong parentName=\"h3\">{`Prepare Installation`}</strong></h3>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Change project to eventstreams`}</strong></p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`oc project eventstreams\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Resources Required:`}</strong></p>\n        <p parentName=\"li\">{`If you enable message indexing (which is enabled by default), then\nyou must have the vm.max_map_count property set to at least 262144 on\nall IBM Cloud Private nodes in your cluster (not only the master node).\nPlease note this property may have already been updated by other\nworkloads to be higher than the minimum required. Run the following\ncommands on each node:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`sudo sysctl -w vm.max_map_count=262144\n\necho \"vm.max_map_count=262144\" | tee -a /etc/sysctl.conf\n`}</code></pre>\n      </li>\n    </ol>\n    <p>{`You also may want to consider manually setting security if you run into\nissues related to permissions.  This applies to non-production/poc type\nenvironments where you need to get things up and running quickly.\nHere are the commands:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc adm policy add-scc-to-group anyuid system:serviceaccounts:eventstreams\noc adm policy add-scc-to-group ibm-anyuid-scc system:serviceaccounts:eventstreams\n`}</code></pre>\n    <p>{`This assumes you are installing to the eventstreams namespace/project.\nIf you are using a different location, adjust the last parameter to match\nyour environment.`}</p>\n    <ul>\n    </ul>\n    <h3><strong parentName=\"h3\">{`Begin Installation`}</strong></h3>\n    <InlineNotification mdxType=\"InlineNotification\">\nIn creating the Helm chart for the Event Streams installation, you need to\nspecify a File System Group ID or you will see a permissions error for one of the \npods. You can configure a Group ID of 1000 or another value.\n    </InlineNotification>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Go to CP4I Platform Home. Click `}<strong parentName=\"p\">{`Create instance`}</strong>{` inside\nthe `}<strong parentName=\"p\">{`Event Streams`}</strong>{` tile.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`A window will pop up with a description of the requirements for\ninstalling. Click `}<strong parentName=\"p\">{`Continue`}</strong>{` to the helm chart deployment configuration.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`Overview`}</strong>{` to view the chart information and pre-reqs that\nwere covered in `}<a parentName=\"p\" {...{\n            \"href\": \"#prepare-installation\"\n          }}>{`Prepare Installation`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`Configure`}</strong></p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Enter the Helm release name. In our example, `}<strong parentName=\"p\">{`es-1`}</strong></p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Enter Target Namespace - `}<strong parentName=\"p\">{`eventstreams`}</strong></p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select a Cluster - `}<strong parentName=\"p\">{`local-cluster`}</strong>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Check the license agreement.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Under Parameter click `}<strong parentName=\"p\">{`Quick Start`}</strong>{` to expand.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Here you will need to set the `}<inlineCode parentName=\"p\">{`Certificate Secret Name`}</inlineCode>{`.  Set this to a\nsimple value like `}<inlineCode parentName=\"p\">{`eventstreamssecret`}</inlineCode>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Image Pull Secret - Set to `}<inlineCode parentName=\"p\">{`ibm-entitlement-key`}</inlineCode>{` if using entitled\nregistry or if offline use the `}<inlineCode parentName=\"p\">{`deployer-dockercfg-XX`}</inlineCode>{` secret in your ace\nnamespace.  Use `}<inlineCode parentName=\"p\">{`oc get secrets`}</inlineCode>{` to get the exact value for your\nenvironment.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Under `}<inlineCode parentName=\"p\">{`External Access Settings`}</inlineCode>{` find the `}<inlineCode parentName=\"p\">{`External hostname/IP address`}</inlineCode>{` and set that to the icp-proxy address defined during icp / common-services installation - icp-proxy.\\\\`}{`<`}{`openshift-router-domain`}{`>`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Under Parameters click `}<strong parentName=\"p\">{`All Parameters`}</strong>{` to expand.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Under `}<inlineCode parentName=\"p\">{`Global install settings`}</inlineCode>{` ensure the `}<inlineCode parentName=\"p\">{`Generate Certificate for Security`}</inlineCode>{` checked.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`There are other settings you might consider adding, like persistent\nstorage.  It is not required for install but if you wish to add it, the\nchart will allow for it.  Event Streams requires block storage.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`If you do not wish to add persistent storage, you are done.  Scroll to\nthe bottom. Click `}<strong parentName=\"p\">{`Install`}</strong>{`.`}</p>\n      </li>\n    </ol>\n    <ul>\n    </ul>\n    <h3><strong parentName=\"h3\">{`Validate Installation`}</strong></h3>\n    <ol>\n      <li parentName=\"ol\">{`View all pods in a running state and jobs completed\n`}<img parentName=\"li\" {...{\n          \"src\": \"/assets/img/integration/deploy-eventstreams/7.es-pods.png\",\n          \"alt\": null\n        }}></img></li>\n    </ol>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}