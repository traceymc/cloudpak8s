{"componentChunkName":"component---src-pages-mcm-cluster-onboarding-index-mdx","path":"/mcm/cluster_onboarding/","result":{"pageContext":{"frontmatter":{"title":"Importing a Managed Cluster","weight":305},"relativePagePath":"/mcm/cluster_onboarding/index.mdx","titleType":"page","MdxNode":{"id":"fcddcac5-dcd7-5dc0-bd76-ac2c12016467","children":[],"parent":"8461c2c0-b8cd-5aba-82b2-5f8eb4f5a708","internal":{"content":"---\ntitle: Importing a Managed Cluster\nweight: 305\n---\n\n## Importing an OpenShift or other Kubernetes Cluster\n\n1. To add a new cluster, go to the **Cloud Pak Console**.\n\n2. Using the menu in the top-left corner, navigate to **Automate Infrastructure** > **Clusters**.\n\n   ![Graphic](./images/01-Infra-Cluster.png)\n\n3. Select **Add cluster  +**.\n\n   ![Graphic](./images/02-AddCluster.png)\n\n4. Select **Import an existing cluster by running a command**, then click **Import**.\n\n   ![Graphic](./images/03-ExistingCluster.png)\n\n5. Enter the cluster name for `Cluster name`. The `Namespace` field auto-populates with the same name.\n\n   ![Graphic](./images/04-GenerateCommand.png)\n\n6. Click **Generate Command** button to get the configuration command. A `curl` command is\ngenerated for you to run from your managed cluster. Click the \"Copy\" icon to copy the command\ninto your buffer.\n\n   ![Graphic](./images/05-GeneratedCommand.png)\n\n7. Go to a command line where you are logged into the cluster you want to manage.\nRun the command copied from the above. Your output should look something like this:\n\n   ```bash\n     % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                    Dload  Upload   Total   Spent    Left  Speed\n   100  5643    0  5643    0     0   4941      0 --:--:--  0:00:01 --:--:--  4945\n   customresourcedefinition.apiextensions.k8s.io/endpoints.multicloud.ibm.com created\n   namespace/multicluster-endpoint created\n   secret/klusterlet-bootstrap created\n   serviceaccount/ibm-multicluster-endpoint-operator created\n   clusterrolebinding.rbac.authorization.k8s.io/ibm-multicluster-endpoint-operator created\n   deployment.apps/ibm-multicluster-endpoint-operator created\n\n   ```\n\n8. Run the same command again if the error below occurs:\n\n   ```bash\n   error: unable to recognize \"STDIN\": no matches for kind \"Endpoint\" in version \"multicloud.ibm.com/v1beta1\"\n   ```\n\n9. The cluster import will show as \"Pending\" for a few minutes but should then show up in your Clusters\n   view.\n\n![Graphic](./images/06-Clusters.png)","type":"Mdx","contentDigest":"4e4c0d367375d573ce6014129d881ab6","counter":555,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"Importing a Managed Cluster","weight":305},"exports":{},"rawBody":"---\ntitle: Importing a Managed Cluster\nweight: 305\n---\n\n## Importing an OpenShift or other Kubernetes Cluster\n\n1. To add a new cluster, go to the **Cloud Pak Console**.\n\n2. Using the menu in the top-left corner, navigate to **Automate Infrastructure** > **Clusters**.\n\n   ![Graphic](./images/01-Infra-Cluster.png)\n\n3. Select **Add cluster  +**.\n\n   ![Graphic](./images/02-AddCluster.png)\n\n4. Select **Import an existing cluster by running a command**, then click **Import**.\n\n   ![Graphic](./images/03-ExistingCluster.png)\n\n5. Enter the cluster name for `Cluster name`. The `Namespace` field auto-populates with the same name.\n\n   ![Graphic](./images/04-GenerateCommand.png)\n\n6. Click **Generate Command** button to get the configuration command. A `curl` command is\ngenerated for you to run from your managed cluster. Click the \"Copy\" icon to copy the command\ninto your buffer.\n\n   ![Graphic](./images/05-GeneratedCommand.png)\n\n7. Go to a command line where you are logged into the cluster you want to manage.\nRun the command copied from the above. Your output should look something like this:\n\n   ```bash\n     % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                    Dload  Upload   Total   Spent    Left  Speed\n   100  5643    0  5643    0     0   4941      0 --:--:--  0:00:01 --:--:--  4945\n   customresourcedefinition.apiextensions.k8s.io/endpoints.multicloud.ibm.com created\n   namespace/multicluster-endpoint created\n   secret/klusterlet-bootstrap created\n   serviceaccount/ibm-multicluster-endpoint-operator created\n   clusterrolebinding.rbac.authorization.k8s.io/ibm-multicluster-endpoint-operator created\n   deployment.apps/ibm-multicluster-endpoint-operator created\n\n   ```\n\n8. Run the same command again if the error below occurs:\n\n   ```bash\n   error: unable to recognize \"STDIN\": no matches for kind \"Endpoint\" in version \"multicloud.ibm.com/v1beta1\"\n   ```\n\n9. The cluster import will show as \"Pending\" for a few minutes but should then show up in your Clusters\n   view.\n\n![Graphic](./images/06-Clusters.png)","fileAbsolutePath":"/home/travis/build/ibm-cloud-architecture/cloudpak8s/src/pages/mcm/cluster_onboarding/index.mdx"}}}}