{"version":3,"sources":["webpack:///./src/pages/mcm/mcm13/cp4mcm_cloudforms_policies/index.mdx"],"names":["_frontmatter","makeShortcode","name","props","console","warn","PageDescription","AnchorLinks","AnchorLink","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-mcm-mcm-13-cp-4-mcm-cloudforms-policies-index-mdx-f7278ab7f44b07d6fe9f.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/ibm-cloud-architecture/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst PageDescription = makeShortcode(\"PageDescription\");\nconst AnchorLinks = makeShortcode(\"AnchorLinks\");\nconst AnchorLink = makeShortcode(\"AnchorLink\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <PageDescription mdxType=\"PageDescription\">\n      <p>{`This section covers policy management using Red Hat CloudForms 5.0 for Cloud Pak\nfor Multicloud Management.`}</p>\n    </PageDescription>\n    <AnchorLinks mdxType=\"AnchorLinks\">\n  <AnchorLink mdxType=\"AnchorLink\">Policies in CloudForms</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Policy Resources</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Using Policies</AnchorLink>\n    </AnchorLinks>\n    <h2>{`Policies in CloudForms`}</h2>\n    <p>{`CloudForms policies are definitions that can enforce actions to a set of resources.`}</p>\n    <p>{`In general, policies are definitions that can cause actions to be taken by CloudForms.\nThe anatomy of a policy is shown here:`}</p>\n    <img {...{\n      \"src\": \"/assets/img/cp4mcm/cf5_policy.png\",\n      \"alt\": \"CloudForms policy\"\n    }}></img>\n    <p>{`Based on that diagram, the element of a policy are:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Scope`}</strong>{`: The scope defines a set of filters that selects the resources that this policy will applies to.\nIf you do not specify a scope, all resources will be evaluated for this policy.\nThe scope is important as the filter to limit which resources will be evaluated against this policy.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Condition`}</strong>{`: The condition evaluates the resources that will trigger the policy event.\nThis condition can be a simple or compound conditions.\nThe condition can check the resource attributes or an aggregate of the resources under the selected resources,\nsuch as total memory used by all pods in an OpenShift project.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Event`}</strong>{`: Once the condition evaluates to true for the resource, an event is generated.\nThe event is defined in the policy. This event will be used to trigger the action(s) that is/are defined in the policy.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Action`}</strong>{`: The actual management tasks to be launched based on the event.\nThese action tasks are common actions that are available from CloudForms itself, such as VM operations, tagging a resource and others.`}</p>\n      </li>\n    </ul>\n    <p>{`There are 2 types of policy:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Control policy: Control policy is a policy used to control the resources under CloudForms,\nit automates management actions for new or changed resources by automating checks and performing management tasks.\nSome examples of usage:`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`Automatic restart of critical machines`}</li>\n          <li parentName=\"ul\">{`Automated backup of VM, when last backup is older than 7 days`}</li>\n        </ul></li>\n      <li parentName=\"ul\">{`Compliance policy: The compliance policy automatically add the action to flag the resource as `}<em parentName=\"li\">{`not-compliant`}</em>{`; the non-compliant resources are listed in the summary screen.\nSome examples of usage:`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`For ubuntu machines, running `}<inlineCode parentName=\"li\">{`apt-get upgrade`}</inlineCode>{` if found not compliance package`}</li>\n          <li parentName=\"ul\">{`Checking administrator password based on dictionary word and mark it non-compliant`}</li>\n        </ul></li>\n    </ul>\n    <h2>{`Policy Resources`}</h2>\n    <p>{`Policies can be used to control resources on different levels.\nSome resources can be used to evaluate an aggregate value of the enclosed resources.\nThe following lists the resources that can have policy defined:`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Provider`}</strong>{`: managing the provider domain status:`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`Cloud provider such as Amazon, Azure or OpenStack;`}</li>\n          <li parentName=\"ul\">{`Infrastructure provider such as Microsoft VMM, VMware vSphere, RHV, OpenStack Platform Director`}</li>\n          <li parentName=\"ul\">{`Physical infrastructure provider Lenovo XClarity,`}</li>\n          <li parentName=\"ul\">{`Container provider RedHat OpenShift v3.`}</li>\n        </ul></li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Physical Server`}</strong>{`: managing physical infrastructure servers`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Host`}</strong>{`: infrastructure provider hosts`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`VM`}</strong>{`: managing cloud and infrastructure provider instances (EC2. Azure, OpenStack), VMs (vSphere)`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Container Project`}</strong>{`: managing OpenShift v3 namespaces`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Container Node`}</strong>{`: managing OpenShift v3 nodes`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Container Image`}</strong>{`: managing OpenShift v3 container images`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Replicator`}</strong>{`: managing OpenShift v3 workload such as statefulset, daemonset, deployment, deploymentconfig, replicaset`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Pod`}</strong>{`: managing OpenShift v3 pods`}</li>\n    </ul>\n    <ul>\n    </ul>\n    <h2>{`Using Policies`}</h2>\n    <p>{`The following are some screen shots on defining policy.`}</p>\n    <ol>\n      <li parentName=\"ol\">{`From the main menu go to `}<strong parentName=\"li\">{`Control`}</strong>{` > `}<strong parentName=\"li\">{`Explorer`}</strong>{`.\n`}<img parentName=\"li\" {...{\n          \"src\": \"/assets/img/cp4mcm/cf5_01_explorer.png\",\n          \"alt\": \"Policy control\"\n        }}></img></li>\n      <li parentName=\"ol\">{`Expand the menu `}<strong parentName=\"li\">{`Policies`}</strong>{` > `}<strong parentName=\"li\">{`Policy`}</strong>{` > `}<strong parentName=\"li\">{`Control Policy`}</strong>{` or `}<strong parentName=\"li\">{`Compliance Policy`}</strong>{` > policy type.\n`}<img parentName=\"li\" {...{\n          \"src\": \"/assets/img/cp4mcm/cf5_02_tree.png\",\n          \"alt\": \"Policy tree\"\n        }}></img></li>\n      <li parentName=\"ol\">{`Select the policy type that you want to create and then select `}<strong parentName=\"li\">{`Configuration`}</strong>{` > `}<strong parentName=\"li\">{`Add new … Policy`}</strong>\n        <img parentName=\"li\" {...{\n          \"src\": \"/assets/img/cp4mcm/cf5_03_addpolicy.png\",\n          \"alt\": \"New policy\"\n        }}></img></li>\n      <li parentName=\"ol\">{`Specify the scope condition(s) - based on fields, counts or tags; click `}<strong parentName=\"li\">{`Commit`}</strong>{` and click `}<strong parentName=\"li\">{`Add`}</strong>{`.\n`}<img parentName=\"li\" {...{\n          \"src\": \"/assets/img/cp4mcm/cf5_04_scope.png\",\n          \"alt\": \"Define scope\"\n        }}></img></li>\n      <li parentName=\"ol\">{`Define `}<strong parentName=\"li\">{`Configuration`}</strong>{` > `}<strong parentName=\"li\">{`Create a new Condition assigned to this Policy`}</strong>{` and specify the conditions.\n`}<img parentName=\"li\" {...{\n          \"src\": \"/assets/img/cp4mcm/cf5_05_createcondition.png\",\n          \"alt\": \"Define condition\"\n        }}></img>{`\nSpecify the condition that you wanted to check, such as number of users more than 5; click `}<strong parentName=\"li\">{`Commit`}</strong>{` and click `}<strong parentName=\"li\">{`Add`}</strong>{`. `}<br /><img parentName=\"li\" {...{\n          \"src\": \"/assets/img/cp4mcm/cf5_05_condition.png\",\n          \"alt\": \"Add condition\"\n        }}></img></li>\n      <li parentName=\"ol\">{`Select the event (which is the same as the policy name) `}<strong parentName=\"li\">{`Configuration`}</strong>{` > `}<strong parentName=\"li\">{`Edit Actions from Policy Event`}</strong>{`.\n`}<img parentName=\"li\" {...{\n          \"src\": \"/assets/img/cp4mcm/cf5_06_event.png\",\n          \"alt\": \"Event action\"\n        }}></img></li>\n      <li parentName=\"ol\">{`Specify the actions on whether the condition is true or not. Click `}<strong parentName=\"li\">{`Save`}</strong>{` when done.\n`}<img parentName=\"li\" {...{\n          \"src\": \"/assets/img/cp4mcm/cf5_07_action.png\",\n          \"alt\": \"Action policy\"\n        }}></img></li>\n    </ol>\n    <p>{`The resulting policy is shown below. `}<br /><img parentName=\"p\" {...{\n        \"src\": \"/assets/img/cp4mcm/cf5_10_policy.png\",\n        \"alt\": \"Full policy\"\n      }}></img></p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}