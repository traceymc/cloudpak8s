{"version":3,"sources":["webpack:///./src/pages/mcm/mcm13/cp4mcm_icam_install/index.mdx"],"names":["_frontmatter","makeShortcode","name","props","console","warn","Tabs","Tab","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","label","isMDXComponent"],"mappings":"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","file":"component---src-pages-mcm-mcm-13-cp-4-mcm-icam-install-index-mdx-1f5ed253fd0c34865c65.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/ibm-cloud-architecture/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst Tabs = makeShortcode(\"Tabs\");\nconst Tab = makeShortcode(\"Tab\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h2>{`Overview`}</h2>\n    <p>{`In this section we will walk through the installation of the IBM Cloud Application Manager version 2019.4.0 component of the Cloud Pak for Multicloud Management. This document is specifically written for installations on OpenShift 4.2 with Multicloud Manager installed running on an x86 architecture.`}</p>\n    <h3>{`Prerequisites`}</h3>\n    <p>{`This document does not describe how to install or configure the underlying OpenShift platform. So prior to installing make sure you have a working OpenShift cluster with Multicloud manager installed with the required capacity.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Check the requirements doc to make sure you have size your cluster appropriately and you have capacity`}</li>\n      <li parentName=\"ul\">{`For offline installs make sure you have downloaded the Cloud Pak for Multicloud Management Passport Advantage Archive (PPA) file (see requirements) and copied it to the installation server`}</li>\n      <li parentName=\"ul\">{`For online installs make sure you have an entitlement key to access the IBM Entitled Docker Registry`}</li>\n      <li parentName=\"ul\">{`The installation is performed from the Command line (CLI) so you will need the required CLI tools to interface with the cluster. Instructions on setting up the required CLI tools here: `}<a parentName=\"li\" {...{\n          \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSFC4F_1.2.0/cli/cli_guide_mcm.html\"\n        }}>{`https://www.ibm.com/support/knowledgecenter/en/SSFC4F_1.2.0/cli/cli_guide_mcm.html`}</a></li>\n      <li parentName=\"ul\">{`Offline installation will require the docker client install on the installation server`}</li>\n    </ul>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/content/mcm/cp4mcm_mcm_install/\"\n        }}>{`Install MCM`}</a></li>\n    </ul>\n    <h2>{`Online Installation`}</h2>\n    <ul>\n    </ul>\n    <h2>{`Offline Installation`}</h2>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Download the Cloud Application Management Archive file`}</p>\n        <table parentName=\"li\">\n          <thead parentName=\"table\">\n            <tr parentName=\"thead\">\n              <th parentName=\"tr\" {...{\n                \"align\": \"center\"\n              }}>{`File Name`}</th>\n              <th parentName=\"tr\" {...{\n                \"align\": \"center\"\n              }}>{`Part Number`}</th>\n              <th parentName=\"tr\" {...{\n                \"align\": \"center\"\n              }}>{`Version`}</th>\n            </tr>\n          </thead>\n          <tbody parentName=\"table\">\n            <tr parentName=\"tbody\">\n              <td parentName=\"tr\" {...{\n                \"align\": \"center\"\n              }}>{`icam_ppa_2019.4.0_prod.tar.gz`}</td>\n              <td parentName=\"tr\" {...{\n                \"align\": \"center\"\n              }}>{`CC4KNEN`}</td>\n              <td parentName=\"tr\" {...{\n                \"align\": \"center\"\n              }}>{`1.2`}</td>\n            </tr>\n            <tr parentName=\"tbody\">\n              <td parentName=\"tr\" {...{\n                \"align\": \"center\"\n              }}>{`icam_ppa_2020.1.0_prod.tar.gz`}</td>\n              <td parentName=\"tr\" {...{\n                \"align\": \"center\"\n              }}>{`CC5WFEN`}</td>\n              <td parentName=\"tr\" {...{\n                \"align\": \"center\"\n              }}>{`1.3`}</td>\n            </tr>\n          </tbody>\n        </table>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Create a `}<inlineCode parentName=\"p\">{`cluster`}</inlineCode>{` directory and move the ppa into the new directory`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`mkdir cluster\ncd cluster\nmv <PACKAGE_NAME> .\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Use admin access to login to the MCM console`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`cloudctl login -a < my_cluster_URL > -n kube-system --skip-ssl-validation\n`}</code></pre>\n        <p parentName=\"li\">{`Where `}<inlineCode parentName=\"p\">{`< my_cluster_URL >`}</inlineCode>{` is the name that you defined for your cluster.`}</p>\n        <p parentName=\"li\"><strong parentName=\"p\">{`Ex.`}</strong>{` `}<inlineCode parentName=\"p\">{`https://cluster_address:443`}</inlineCode>{`, where cluster_address looks something like `}<inlineCode parentName=\"p\">{`icp-console.apps.hostname-icp-mst.domain.com`}</inlineCode>{`\nFor future reference to the console use the value for cluster_address.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Login to OpenShift as an administrator:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`oc login\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Login to the OCP Docker registry (assuming the OpenShift registry has been exposed - see `}<a parentName=\"p\" {...{\n            \"href\": \"https://docs.openshift.com/container-platform/4.2/registry/securing-exposing-registry.html\"\n          }}>{`exposing registry`}</a>{`):`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`docker login $(oc registry info) -u $(oc whoami) -p $(oc whoami -t)\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Load the installation image into IBM’s Docker Registry:`}</p>\n        <Tabs mdxType=\"Tabs\">\n          <Tab label=\"CloudPak v1.3\" mdxType=\"Tab\">\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`cloudctl catalog load-archive --archive ./icam_ppa_2020.1.0_prod.tar.gz  --registry $(oc registry info)/kube-system\n`}</code></pre>\n          </Tab>\n          <Tab label=\"CloudPak v1.2\" mdxType=\"Tab\">\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`cloudctl catalog load-archive --archive ./icam_ppa_2019.4.0_prod.tar.gz  --registry $(oc registry info)/kube-system\n`}</code></pre>\n          </Tab>\n        </Tabs>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Prepare Persistent Storage`}</p>\n        <p parentName=\"li\">{`Unless your storage class can handle 5000 IO Operations per second, IBM recommends setting up Persistant Storage backed by local disks or partitions.`}</p>\n        <p parentName=\"li\">{`For help configuring persistent storage, see `}<a parentName=\"p\" {...{\n            \"href\": \"https://www.ibm.com/support/knowledgecenter/SSBS6K_3.2.1/manage_cluster/kub_storage.html\"\n          }}>{`Understanding Kubernetes Storage`}</a></p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Log in to the console UI of your target cluster from `}<inlineCode parentName=\"p\">{`https://icp-console.apps.< cluster >.< domain >/`}</inlineCode></p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`Catalog`}</strong>{` in the Upper right-hand icon; select the `}<strong parentName=\"p\">{`Repositories`}</strong>{` > `}<strong parentName=\"p\">{`local-charts`}</strong>{`.\nOpen the `}<inlineCode parentName=\"p\">{`ibm-cloud-appmgmt-prod`}</inlineCode>{` tile.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`Configure`}</strong>{` and specify the following:`}</p>\n      </li>\n    </ol>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Helm relase name: ibmcloudappmgmt`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Target namespace: kube-system`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Target cluster: local-cluster`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`License accepted: (checked)`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Expand all parameters as you must customize more parameters than just the default, specify at least the following`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Create CRD (checked)`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Create TLS Certs (checked)`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Cloud Console FQDN: `}<inlineCode parentName=\"p\">{`icp-console.apps.< cluster >.< domain >`}</inlineCode></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Cloud Console Port: 443`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Cloud Proxy FQDN: `}<inlineCode parentName=\"p\">{`icp-proxy.apps.< cluster >.< domain >`}</inlineCode></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Cloud Master FQDN: `}<inlineCode parentName=\"p\">{`icp-console.apps.< cluster >.< domain >`}</inlineCode></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Cloud Master Port: 443`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Image Repository: `}<inlineCode parentName=\"p\">{`image-registry.openshift-image-registry.svc:5000/kube-system`}</inlineCode></p>\n        <p parentName=\"li\">{`For configuration parameters, reference `}<a parentName=\"p\" {...{\n            \"href\": \"https://www.ibm.com/support/knowledgecenter/SS8G7U_19.4.0/com.ibm.app.mgmt.doc/content/install_mcm_server_script_full_monitoring.html?cp=SSFC4F_1.2.0#task_install_mcm_server_script__d441e497\"\n          }}>{`Table 1`}</a>{` in the Knowledge Center iCAM workbook.`}</p>\n      </li>\n    </ul>\n    <ol {...{\n      \"start\": 11\n    }}>\n      <li parentName=\"ol\">{`Click `}<strong parentName=\"li\">{`Install`}</strong>{` to deploy the `}<inlineCode parentName=\"li\">{`ibm-cloud-appmgmt-prod`}</inlineCode>{` Helm chart.`}</li>\n    </ol>\n    <h2>{`Post Installation`}</h2>\n    <p>{`Now that your iCAM instance is successfuly installed, you can register with OIDC.`}</p>\n    <p><strong parentName=\"p\">{`1.`}</strong>{` In your MCM console, select `}<strong parentName=\"p\">{`Monitor Health`}</strong>{` > `}<strong parentName=\"p\">{`Helm Releases`}</strong>{`, then select the release name that you gave for iCAM.`}</p>\n    <p><strong parentName=\"p\">{`2.`}</strong>{` Scroll to the notes section at the bottom of your release and complete `}<strong parentName=\"p\">{`Step 3 (OIDC Registration)`}</strong>{` of the `}<em parentName=\"p\">{`Notes`}</em>{` section. Run the two `}<strong parentName=\"p\">{`kubectl`}</strong>{` commands that are displayed there.`}</p>\n    <p><strong parentName=\"p\">{`Command 1`}</strong>{` registers your iCAM instance with OIDC, and `}<strong parentName=\"p\">{`Command 2`}</strong>{` adds two policy registrations.`}</p>\n    <h2>{`Next Steps`}</h2>\n    <p>{`Next, you can deploy the `}<strong parentName=\"p\">{`ICAM Klusterlet`}</strong>{` to monitor applications in your MCM environment. For more information, see `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/SS8G7U_19.4.0/com.ibm.app.mgmt.doc/content/install_mcm_klusterlet.html?cp=SSFC4F_1.2.0\"\n      }}>{`Installing the ICAM klusterlet on the managed cluster`}</a>{` guide for installing via the helm chart, or check out `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/SS8G7U_19.4.0/com.ibm.app.mgmt.doc/content/install_mcm_klusterlet_no_helm.html?cp=SSFC4F_1.2.0\"\n      }}>{`Installing the ICAM klusterlet on the managed cluster without helm`}</a>{` for a non-helm installation.`}</p>\n    <h2>{`Additional Resources`}</h2>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/SS8G7U_19.4.0/com.ibm.app.mgmt.doc/content/install_mcm_server_script_full_monitoring.html?cp=SSFC4F_1.2.0\"\n      }}>{`Knowledge Center - iCAM`}</a></p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}