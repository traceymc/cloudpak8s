(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{"50/T":function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return c})),n.d(t,"default",(function(){return u}));n("91GP"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("q1tI");var a=n("7ljp"),o=n("013z");n("qKvR");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var c={},r=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(a.b)("div",t)}},l=r("PageDescription"),s=r("AnchorLinks"),p=r("AnchorLink"),b={_frontmatter:c},m=o.a;function u(e){var t=e.components,n=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["components"]);return Object(a.b)(m,i({},b,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)(l,{mdxType:"PageDescription"},Object(a.b)("p",null,"This section covers policy management using Red Hat CloudForms 5.0 for Cloud Pak\nfor Multicloud Management.")),Object(a.b)(s,{mdxType:"AnchorLinks"},Object(a.b)(p,{mdxType:"AnchorLink"},"Policies in CloudForms"),Object(a.b)(p,{mdxType:"AnchorLink"},"Policy Resources"),Object(a.b)(p,{mdxType:"AnchorLink"},"Using Policies")),Object(a.b)("h2",null,"Policies in CloudForms"),Object(a.b)("p",null,"CloudForms policies are definitions that can enforce actions to a set of resources."),Object(a.b)("p",null,"In general, policies are definitions that can cause actions to be taken by CloudForms.\nThe anatomy of a policy is shown here:"),Object(a.b)("img",{src:"/assets/img/cp4mcm/cf5_policy.png",alt:"CloudForms policy"}),Object(a.b)("p",null,"Based on that diagram, the element of a policy are:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},Object(a.b)("strong",{parentName:"p"},"Scope"),": The scope defines a set of filters that selects the resources that this policy will applies to.\nIf you do not specify a scope, all resources will be evaluated for this policy.\nThe scope is important as the filter to limit which resources will be evaluated against this policy.")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},Object(a.b)("strong",{parentName:"p"},"Condition"),": The condition evaluates the resources that will trigger the policy event.\nThis condition can be a simple or compound conditions.\nThe condition can check the resource attributes or an aggregate of the resources under the selected resources,\nsuch as total memory used by all pods in an OpenShift project.")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},Object(a.b)("strong",{parentName:"p"},"Event"),": Once the condition evaluates to true for the resource, an event is generated.\nThe event is defined in the policy. This event will be used to trigger the action(s) that is/are defined in the policy.")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},Object(a.b)("strong",{parentName:"p"},"Action"),": The actual management tasks to be launched based on the event.\nThese action tasks are common actions that are available from CloudForms itself, such as VM operations, tagging a resource and others."))),Object(a.b)("p",null,"There are 2 types of policy:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Control policy: Control policy is a policy used to control the resources under CloudForms,\nit automates management actions for new or changed resources by automating checks and performing management tasks.\nSome examples of usage:",Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"Automatic restart of critical machines"),Object(a.b)("li",{parentName:"ul"},"Automated backup of VM, when last backup is older than 7 days"))),Object(a.b)("li",{parentName:"ul"},"Compliance policy: The compliance policy automatically add the action to flag the resource as ",Object(a.b)("em",{parentName:"li"},"not-compliant"),"; the non-compliant resources are listed in the summary screen.\nSome examples of usage:",Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"For ubuntu machines, running ",Object(a.b)("inlineCode",{parentName:"li"},"apt-get upgrade")," if found not compliance package"),Object(a.b)("li",{parentName:"ul"},"Checking administrator password based on dictionary word and mark it non-compliant")))),Object(a.b)("h2",null,"Policy Resources"),Object(a.b)("p",null,"Policies can be used to control resources on different levels.\nSome resources can be used to evaluate an aggregate value of the enclosed resources.\nThe following lists the resources that can have policy defined:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"Provider"),": managing the provider domain status:",Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"Cloud provider such as Amazon, Azure or OpenStack;"),Object(a.b)("li",{parentName:"ul"},"Infrastructure provider such as Microsoft VMM, VMware vSphere, RHV, OpenStack Platform Director"),Object(a.b)("li",{parentName:"ul"},"Physical infrastructure provider Lenovo XClarity,"),Object(a.b)("li",{parentName:"ul"},"Container provider RedHat OpenShift v3."))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"Physical Server"),": managing physical infrastructure servers"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"Host"),": infrastructure provider hosts"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"VM"),": managing cloud and infrastructure provider instances (EC2. Azure, OpenStack), VMs (vSphere)"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"Container Project"),": managing OpenShift v3 namespaces"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"Container Node"),": managing OpenShift v3 nodes"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"Container Image"),": managing OpenShift v3 container images"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"Replicator"),": managing OpenShift v3 workload such as statefulset, daemonset, deployment, deploymentconfig, replicaset"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"Pod"),": managing OpenShift v3 pods")),Object(a.b)("ul",null),Object(a.b)("h2",null,"Using Policies"),Object(a.b)("p",null,"The following are some screen shots on defining policy."),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"From the main menu go to ",Object(a.b)("strong",{parentName:"li"},"Control")," > ",Object(a.b)("strong",{parentName:"li"},"Explorer"),".\n",Object(a.b)("img",i({parentName:"li"},{src:"/assets/img/cp4mcm/cf5_01_explorer.png",alt:"Policy control"}))),Object(a.b)("li",{parentName:"ol"},"Expand the menu ",Object(a.b)("strong",{parentName:"li"},"Policies")," > ",Object(a.b)("strong",{parentName:"li"},"Policy")," > ",Object(a.b)("strong",{parentName:"li"},"Control Policy")," or ",Object(a.b)("strong",{parentName:"li"},"Compliance Policy")," > policy type.\n",Object(a.b)("img",i({parentName:"li"},{src:"/assets/img/cp4mcm/cf5_02_tree.png",alt:"Policy tree"}))),Object(a.b)("li",{parentName:"ol"},"Select the policy type that you want to create and then select ",Object(a.b)("strong",{parentName:"li"},"Configuration")," > ",Object(a.b)("strong",{parentName:"li"},"Add new â€¦ Policy"),Object(a.b)("img",i({parentName:"li"},{src:"/assets/img/cp4mcm/cf5_03_addpolicy.png",alt:"New policy"}))),Object(a.b)("li",{parentName:"ol"},"Specify the scope condition(s) - based on fields, counts or tags; click ",Object(a.b)("strong",{parentName:"li"},"Commit")," and click ",Object(a.b)("strong",{parentName:"li"},"Add"),".\n",Object(a.b)("img",i({parentName:"li"},{src:"/assets/img/cp4mcm/cf5_04_scope.png",alt:"Define scope"}))),Object(a.b)("li",{parentName:"ol"},"Define ",Object(a.b)("strong",{parentName:"li"},"Configuration")," > ",Object(a.b)("strong",{parentName:"li"},"Create a new Condition assigned to this Policy")," and specify the conditions.\n",Object(a.b)("img",i({parentName:"li"},{src:"/assets/img/cp4mcm/cf5_05_createcondition.png",alt:"Define condition"})),"\nSpecify the condition that you wanted to check, such as number of users more than 5; click ",Object(a.b)("strong",{parentName:"li"},"Commit")," and click ",Object(a.b)("strong",{parentName:"li"},"Add"),". ",Object(a.b)("br",null),Object(a.b)("img",i({parentName:"li"},{src:"/assets/img/cp4mcm/cf5_05_condition.png",alt:"Add condition"}))),Object(a.b)("li",{parentName:"ol"},"Select the event (which is the same as the policy name) ",Object(a.b)("strong",{parentName:"li"},"Configuration")," > ",Object(a.b)("strong",{parentName:"li"},"Edit Actions from Policy Event"),".\n",Object(a.b)("img",i({parentName:"li"},{src:"/assets/img/cp4mcm/cf5_06_event.png",alt:"Event action"}))),Object(a.b)("li",{parentName:"ol"},"Specify the actions on whether the condition is true or not. Click ",Object(a.b)("strong",{parentName:"li"},"Save")," when done.\n",Object(a.b)("img",i({parentName:"li"},{src:"/assets/img/cp4mcm/cf5_07_action.png",alt:"Action policy"})))),Object(a.b)("p",null,"The resulting policy is shown below. ",Object(a.b)("br",null),Object(a.b)("img",i({parentName:"p"},{src:"/assets/img/cp4mcm/cf5_10_policy.png",alt:"Full policy"}))))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-mcm-mcm-13-cp-4-mcm-cloudforms-policies-index-mdx-f7278ab7f44b07d6fe9f.js.map