{"version":3,"sources":["webpack:///./src/pages/automation/install-odm/index.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"yeAMO,IAAMA,EAAe,GACtBC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,E,oIACF,mBACD,OAAO,YAACJ,EAAD,KAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAG5E,2CACA,qIACA,sBACE,kBAAIC,WAAW,MAAf,wDACA,kBAAIA,WAAW,MAAf,2DAEF,gCAAe,mBAAGA,WAAW,KAAQ,CACjC,KAAQ,wCADG,mBAAf,gEAGA,kDACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,yKAML,oDACA,0FACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,2HAEL,iDACA,0CACA,sFACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,sIAEL,mDACA,sBACE,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,gBAAoC,mBAAGA,WAAW,KAAQ,CACtD,KAAQ,2CACP,0BAAYA,WAAW,KAAvB,oBAFL,sCAIF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,cAAkC,0BAAYA,WAAW,KAAvB,mBAAlC,8HAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,yDAA6E,0BAAYA,WAAW,KAAvB,mBAA7E,kHAA2P,mBAAGA,WAAW,KAAQ,CAC7Q,KAAQ,yHAD+O,gCAA3P,MAIF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,gCAGJ,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,4FAEL,oCACA,sBACE,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,aAAiC,mBAAGA,WAAW,KAAQ,CACnD,KAAQ,gDACP,0BAAYA,WAAW,KAAvB,yBAFL,kFAE4J,0BAAYA,WAAW,KAAvB,MAF5J,gCAIF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,wDAGJ,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,uCAEL,wEACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,wcAUTJ,EAAWK,gBAAiB","file":"component---src-pages-automation-install-odm-index-mdx-c715b35a7f690ac7cd33.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/ibm-cloud-architecture/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h3>{`Required services`}</h3>\n    <p>{`Before installing Operational Decision Manager (ODM), you should have the following pre-requisites in place:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Have privileged access to your DB2 database server. `}</li>\n      <li parentName=\"ul\">{`Optionally, have access to your LDAP directory server.`}</li>\n    </ul>\n    <p>{`See the `}<a parentName=\"p\" {...{\n        \"href\": \"/content/automation/shared-services\"\n      }}>{`Shared services`}</a>{` chapter for details on DB2 or LDAP installation, if needed.`}</p>\n    <h3>{`Prepare the ODM database`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`su - db2inst1\ndb2 create database odmdb automatic storage yes using codeset UTF-8 territory US pagesize 32768;\ndb2 connect to odmdb\ndb2 list applications\nexit\n`}</code></pre>\n    <h3>{`Create the database secret`}</h3>\n    <p>{`Run the following command to create a secret for database access:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc create secret generic odm-db-secret --from-literal=db-user=\"<db-user>\" --from-literal=db-password=\"<db-password>\"\n`}</code></pre>\n    <h3>{`Create the LDAP secrets`}</h3>\n    <h4>{`LDAP bind secret`}</h4>\n    <p>{`Run the following command to create a secret for LDAP access:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc create secret generic ldap-bind-secret --from-literal=ldapUsername=\"<bind-dn>\" --from-literal=ldapPassword=\"<bind-password>\"\n`}</code></pre>\n    <h4>{`User configuration secret`}</h4>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Download the `}<a parentName=\"p\" {...{\n            \"href\": \"/assets/automation/odm/webSecurity.xml\"\n          }}><inlineCode parentName=\"a\">{`webSecurity.xml`}</inlineCode></a>{` files to your working directory.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Update the `}<inlineCode parentName=\"p\">{`webSecurity.xml`}</inlineCode>{` file to replace the ldap host with the public IP address of your LDAP server, as well as the connection DN and password.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`If needed, you may also update the access info within `}<inlineCode parentName=\"p\">{`webSecurity.xml`}</inlineCode>{` file to add users or groups. For the details on how to configure the access info, please refer to the related `}<a parentName=\"p\" {...{\n            \"href\": \"https://www.ibm.com/support/knowledgecenter/SSYHZ8_19.0.x/com.ibm.dba.offerings/topics/con_config_user_registry.html\"\n          }}>{`ODM knowledge center section`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Run the following command:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`oc create secret generic odm-users-secret --from-file=webSecurity.xml=webSecurity.xml\n`}</code></pre>\n    <h3>{`Deploy ODM`}</h3>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Copy this `}<a parentName=\"p\" {...{\n            \"href\": \"/assets/automation/odm/ibm_cp4a_cr_odm.yaml\"\n          }}><inlineCode parentName=\"a\">{`ibm_cp4a_cr_odm.yaml`}</inlineCode></a>{` template file in your working directory and update it as needed (look for the `}<inlineCode parentName=\"p\">{`<>`}</inlineCode>{` placeholders in the file).`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Apply the updated custom resource definition file:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`oc apply -f ibm_cp4a_cr_odm.yaml\n`}</code></pre>\n    <p>{`You should see the following new pods deployed:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`NAME                                                  READY   STATUS      RESTARTS   AGE\nodm-demo-odm-decisioncenter-6dbfb56874-6kt4l          1/1     Running     0          17d\nodm-demo-odm-decisionrunner-54c7dbd9ff-wtg2f          1/1     Running     0          17d\nodm-demo-odm-decisionserverconsole-5bd4dc4645-j6xj2   1/1     Running     0          17d\nodm-demo-odm-decisionserverruntime-7d5d64f664-n4g5n   1/1     Running     0          17d\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}