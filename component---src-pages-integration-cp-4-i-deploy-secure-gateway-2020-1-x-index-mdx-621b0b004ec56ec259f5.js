(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{EKQI:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return l})),n.d(t,"default",(function(){return d}));n("91GP"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("q1tI");var a=n("7ljp"),r=n("013z");n("qKvR");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var l={},i=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(a.b)("div",t)}},c=i("InlineNotification"),b=i("AnchorLinks"),p=i("AnchorLink"),s={_frontmatter:l},m=r.a;function d(e){var t=e.components,n=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["components"]);return Object(a.b)(m,o({},s,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)(c,{mdxType:"InlineNotification"},Object(a.b)("p",null,"Version 2020.2 is out for Cloud Pak for Ingegration.  This version is the first to feature Operators and has significant changes to the deployment and operations.  Please refer to the ",Object(a.b)("a",o({parentName:"p"},{href:"https://www.ibm.com/support/knowledgecenter/en/SSGT7J_20.2/overview.html"}),"Knowledge Center")," while we update this playbook.  Thanks!")),Object(a.b)(b,{mdxType:"AnchorLinks"},Object(a.b)(p,{mdxType:"AnchorLink"},"Introduction"),Object(a.b)(p,{mdxType:"AnchorLink"},"Prepare Installation"),Object(a.b)(p,{mdxType:"AnchorLink"},"Begin Installation"),Object(a.b)(p,{mdxType:"AnchorLink"},"Validate installation"),Object(a.b)(p,{mdxType:"AnchorLink"},"Access Web Interface")),Object(a.b)("h3",null,Object(a.b)("strong",{parentName:"h3"},"Introduction")),Object(a.b)("p",null,"This page contains guidance on how to configure the Datapower Gateway\nrelease for both on-prem and IBM Cloud.  Note - you do not need to install this\nchart unless you are using DataPower as a standalone capability.\nWhen you install API Connect, it installs its own version of this chart\nas part of the APIC Cluster."),Object(a.b)("ul",null),Object(a.b)("h3",null,Object(a.b)("strong",{parentName:"h3"},"Prepare Installation")),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},Object(a.b)("strong",{parentName:"li"},"Change project to eventstreams"),Object(a.b)("pre",{parentName:"li"},Object(a.b)("code",o({parentName:"pre"},{}),"oc project datapower\n")))),Object(a.b)("ul",null),Object(a.b)("h3",null,Object(a.b)("strong",{parentName:"h3"},"Begin Installation")),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Go to CP4I Platform Home. Click ",Object(a.b)("strong",{parentName:"li"},"Create instance")," inside the\n",Object(a.b)("strong",{parentName:"li"},"DataPower")," tile."),Object(a.b)("li",{parentName:"ol"},"A window will pop up with a description of the requirements for\ninstalling. Click ",Object(a.b)("strong",{parentName:"li"},"Continue")," to the helm chart deployment configuration."),Object(a.b)("li",{parentName:"ol"},"Click ",Object(a.b)("strong",{parentName:"li"},"Overview")," to view the chart information and pre-reqs that were\ncovered in ",Object(a.b)("a",o({parentName:"li"},{href:"#prepare-installation"}),"Prepare Installation"),"."),Object(a.b)("li",{parentName:"ol"},"Click ",Object(a.b)("strong",{parentName:"li"},"Configure")),Object(a.b)("li",{parentName:"ol"},"Enter the Helm release name. In our example, ",Object(a.b)("strong",{parentName:"li"},"datapower")),Object(a.b)("li",{parentName:"ol"},"Enter Target Namespace - ",Object(a.b)("strong",{parentName:"li"},"datapower")),Object(a.b)("li",{parentName:"ol"},"Select a Cluster - ",Object(a.b)("strong",{parentName:"li"},"local-cluster"),"."),Object(a.b)("li",{parentName:"ol"},"Check the license agreement."),Object(a.b)("li",{parentName:"ol"},"Under Parameters click ",Object(a.b)("strong",{parentName:"li"},"All Parameters")," to expand.",Object(a.b)("ol",{parentName:"li"},Object(a.b)("li",{parentName:"ol"},"Ingress - icp-proxy address defined during icp / common-services\ninstallation - icp-proxy.","<","openshift-router-domain",">"),Object(a.b)("li",{parentName:"ol"},"Image Pull Secret - Set to ",Object(a.b)("inlineCode",{parentName:"li"},"ibm-entitlement-key")," if using entitled\nregistry or if offline use the ",Object(a.b)("inlineCode",{parentName:"li"},"deployer-dockercfg-XX")," secret in your\ndatapower namespace.  Use ",Object(a.b)("inlineCode",{parentName:"li"},"oc get secrets")," to get the exact value for\nyour environment."))),Object(a.b)("li",{parentName:"ol"},"Scroll down to External access settings - enter the proxy\naddress - ",Object(a.b)("strong",{parentName:"li"},"icp-proxy.","<","openshift-router-domain",">",".")),Object(a.b)("li",{parentName:"ol"},"Note:  If you want to enable access to the WebUI and XML/Rest\nInterfaces for your datapower instance, you will need to change those\nmanually.  Otherwise, they will default to disabled."),Object(a.b)("li",{parentName:"ol"},"Scroll to the bottom. Click ",Object(a.b)("strong",{parentName:"li"},"Install"),".")),Object(a.b)("ul",null),Object(a.b)("h3",null,Object(a.b)("strong",{parentName:"h3"},"Validate Installation")),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"check pods using the command line",Object(a.b)("pre",{parentName:"li"},Object(a.b)("code",o({parentName:"pre"},{}),"oc get pods -n datapower\nNAME                                      READY     STATUS    RESTARTS   AGE\ndp-1-ibm-datapower-icp4i-fb888677-mvd9q   1/1       Running   0          3m\n")))),Object(a.b)("ul",null),Object(a.b)("h3",null,Object(a.b)("strong",{parentName:"h3"},"Access Web Interface")),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},"Access the web interface (if enabled) by port-forwarding\nthe port defined in the deployment (default 9090)."),Object(a.b)("pre",{parentName:"li"},Object(a.b)("code",o({parentName:"pre"},{className:"language-bash"}),"kubectl port-forward pod/dp-pod-name 9090:9090\n")),Object(a.b)("p",{parentName:"li"},"Access the web UI with local port"),Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"https://localhost:9090")),Object(a.b)("p",{parentName:"li"},"Login using default credentials"),Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"username: ",Object(a.b)("inlineCode",{parentName:"li"},"admin")),Object(a.b)("li",{parentName:"ul"},"password: ",Object(a.b)("inlineCode",{parentName:"li"},"admin"))),Object(a.b)("p",{parentName:"li"},"If other features such as SSH (default 9022) or REST management interface (default 5554) are enabled,\nthey can similarly be accessed via ",Object(a.b)("inlineCode",{parentName:"p"},"localhost")," by port-forwarding their respectively defined ports."))))}d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-integration-cp-4-i-deploy-secure-gateway-2020-1-x-index-mdx-621b0b004ec56ec259f5.js.map