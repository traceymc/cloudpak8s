{"version":3,"sources":["webpack:///./src/pages/automation/shared-services/index.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"yeAMO,IAAMA,EAAe,GACtBC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,E,oIACF,mBACD,OAAO,YAACJ,EAAD,KAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAG5E,4NAEA,8JACA,qCACA,wDACA,6GACA,sBACE,kBAAIC,WAAW,MAAK,kBAAIA,WAAW,MAAf,sHAApB,eACA,kBAAIA,WAAW,MAAK,kBAAIA,WAAW,MAAf,uIAApB,eACA,kBAAIA,WAAW,MAAK,mBAAGA,WAAW,MAAS,CACvC,KAAQ,gGADQ,sCAItB,sDACA,sBACE,kBAAIA,WAAW,MAAf,kCAEF,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,wBAEL,sBACE,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,kCAAsD,mBAAGA,WAAW,KAAQ,CACxE,KAAQ,yCACP,0BAAYA,WAAW,KAAvB,eAFL,sDAEsH,0BAAYA,WAAW,KAAvB,kBAFtH,mBAIF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,+CAGJ,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,8IAIL,mFACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,+RAIL,sBACE,kBAAIA,WAAW,MAAf,oBAEF,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,yEAEL,6CACA,8DAA6C,mBAAGA,WAAW,KAAQ,CAC/D,KAAQ,uFADiC,aAA7C,iCAGA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,wsCAwDL,gDACA,sHACA,sBACE,kBAAIA,WAAW,MAAf,QAA6B,0BAAYA,WAAW,MAAvB,iBAC7B,kBAAIA,WAAW,MAAf,SAA8B,0BAAYA,WAAW,MAAvB,aAC9B,kBAAIA,WAAW,MAAf,aAAkC,0BAAYA,WAAW,MAAvB,qBAEpC,sCACA,wDACA,kIACA,sBACE,kBAAIA,WAAW,MAAK,kBAAIA,WAAW,MAAf,yHACpB,kBAAIA,WAAW,MAAK,kBAAIA,WAAW,MAAf,sHAEtB,2CACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,oGAGL,qCACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,wiDA2DL,kDACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,mZAgBL,sDACA,sBACE,kBAAIA,WAAW,MAAf,0BAA+C,mBAAGA,WAAW,MAAS,CAClE,KAAQ,8HADmC,YAA/C,mCAGA,kBAAIA,WAAW,MAAf,cAAmC,mBAAGA,WAAW,MAAS,CACtD,KAAQ,wCACP,0BAAYA,WAAW,KAAvB,cAFL,wDAIF,uCACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,gOASL,gDACA,sHACA,sBACE,kBAAIA,WAAW,MAAf,QAA6B,0BAAYA,WAAW,MAAvB,sBAC7B,kBAAIA,WAAW,MAAf,SAA8B,0BAAYA,WAAW,MAAvB,YAC9B,kBAAIA,WAAW,MAAf,aAAkC,0BAAYA,WAAW,MAAvB,sBAMxCJ,EAAWK,gBAAiB","file":"component---src-pages-automation-shared-services-index-mdx-62b3a80e8282e21393dd.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/ibm-cloud-architecture/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`Most components from the IBM Cloud Pak for Automation need access to a database server and a directory service.\nBACA and ECM specifically need access to a non-containerized DB2 database service.`}</p>\n    <p>{`The following sections provide instructions on how to install DB2 and the LDAP service provided by the IBM Security Directory Server.`}</p>\n    <h2>{`Install DB2`}</h2>\n    <h3>{`Download the software archives`}</h3>\n    <p>{`Download the following IBM DB2 v11.1 archives and fixpack in your working directory:`}</p>\n    <ul>\n      <li parentName=\"ul\"><em parentName=\"li\">{`IBM DB2 Advanced Workgroup Server Edition Restricted Use Activation V11.1 for Linux, UNIX and Windows Multilingual`}</em>{` (CNB21ML).`}</li>\n      <li parentName=\"ul\"><em parentName=\"li\">{`IBM DB2 Advanced Workgroup Server Edition Server Restricted Use V11.1 for Linux on AMD64 and Intel EM64T systems (x64) Multilingual`}</em>{` (CNB8FML).`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://www.ibm.com/support/pages/download-db2-fix-packs-version-db2-linux-unix-and-windows\"\n        }}>{`IBM DB2 11.1.x Universal Fixpack`}</a></li>\n    </ul>\n    <h3>{`Install the base DB2 version`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Install unzip if not present:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`yum install unzip\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Download the DB2 response file `}<a parentName=\"p\" {...{\n            \"href\": \"/assets/automation/shared/db2dba.rsp\"\n          }}><inlineCode parentName=\"a\">{`db2dba.rsp`}</inlineCode></a>{` and edit the file to provide your password in the `}<inlineCode parentName=\"p\">{`<you-password>`}</inlineCode>{` placeholders.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Expand the archive and start the install:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`tar xzvf DB2_AWSE_REST_Svr_11.1_Lnx_86-64.tar.gz\nunzip DB2_AWSE_Restricted_Activation_11.1.zip\n./server_awse_o/db2setup -r db2dba.rsp\n`}</code></pre>\n    <p>{`You will see the following warnings, which you can ignore.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`Summary of prerequisites that are not met on the current system: \nDBT3514W  The db2prereqcheck utility failed to find the following 32-bit library file: \"/lib/libpam.so*\". \nDBT3514W  The db2prereqcheck utility failed to find the following 32-bit library file: \"libstdc++.so.6\". \n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Add the license`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`/opt/ibm/db2/V11.1/adm/db2licm -a awse_o/db2/license/db2awse_o.lic\n`}</code></pre>\n    <h3>{`Install the fixpack`}</h3>\n    <p>{`For more information, see for example `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSBNJ7_1.4.3/db2/ttnpm_db2_FP1.html\"\n      }}>{`this page`}</a>{` of the IBM Knowledge Center.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`## Expend the archive of the fixpack\ntar xvf v11.1.4fp4a_linuxx64_universal_fixpack.tar.gz\n## precheck before upgrade\ncd universal\n./db2prereqcheck -v 11.1.1.1 -i -s\n\n## list all db2 instances\n/opt/ibm/db2/V11.1/instance/db2ilist\ndb2inst1\n\n## Stop the instance db2inst1\nsu - db2inst1\ndb2 list application\ndb2 force applications all\ndb2 terminate\ndb2stop force\ndb2licd -end\nexit\n\nps -ef |grep db2fm\n/opt/ibm/db2/V11.1/bin/db2fmcu -d\n/opt/ibm/db2/V11.1/bin/db2fm -i db2inst1 -D\n\n/opt/ibm/db2/V11.1/instance/db2iset -i db2inst1 -all\nDB2_DEFERRED_PREPARE_SEMANTICS=YES\nDB2_COMPATIBILITY_VECTOR=ORA\nDB2COMM=TCPIP\nDB2AUTOSTART=YES\n\n/opt/ibm/db2/V11.1/instance/db2iauto -off db2inst1\n\nsu - db2inst1\nipclean\nexit\n\nsu - dasusr1\n/opt/ibm/db2/V11.1/das/bin/db2admin stop\nexit\n\n## Upgrade DB2\n## In case go to the fixpack universal directory\ncd /data/downloads/db2/fixpack11.1.1/universal\n./installFixPack -b /opt/ibm/db2/V11.1\n\n## Upgrade DB2 instance\n/opt/ibm/db2/V11.1/instance/db2iupdt db2inst1\n/opt/ibm/db2/V11.1/instance/db2iauto -on db2inst1\nsu - db2inst1\ndb2start\ndb2level\nexit\n\n#yum install libstdc++.so.6\n#yum install libstdc++.so.5\n#yum install compat-libstdc++-33\n`}</code></pre>\n    <h3>{`Connection information`}</h3>\n    <p>{`Upon install completion, you can test the install using the following connection information:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`URL: `}<inlineCode parentName=\"li\">{`<host>:50000`}</inlineCode></li>\n      <li parentName=\"ul\">{`User: `}<inlineCode parentName=\"li\">{`db2inst1`}</inlineCode></li>\n      <li parentName=\"ul\">{`Password: `}<inlineCode parentName=\"li\">{`<your-password>`}</inlineCode></li>\n    </ul>\n    <h2>{`Install LDAP`}</h2>\n    <h3>{`Download the software archives`}</h3>\n    <p>{`Download the following IBM Security Directory Server V6.4 archives and fixpack in your working directory:`}</p>\n    <ul>\n      <li parentName=\"ul\"><em parentName=\"li\">{`IBM Security Directory Server Premium Feature Activation Package v6.4 Multiplatform Multilingual eAssembly (CRV3IML)`}</em></li>\n      <li parentName=\"ul\"><em parentName=\"li\">{`IBM Security Directory Server V6.4 Client-Server ISO without entitlement for Linux x86-64 Multilingual (CN487ML)`}</em></li>\n    </ul>\n    <h3>{`Mount the SDS ISO`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`mkdir /mnt/iso\nmount -t iso9660 -o loop /data/downloads/sds/sds64-linux-x86-64.iso /mnt/iso/\n`}</code></pre>\n    <h3>{`Install SDS`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`yum install ksh\n\n## Setup ldap user and group\ngroupadd idsldap\nuseradd -g idsldap -d /home/idsldap -m -s /bin/ksh idsldap\npasswd idsldap\n## enter '<your-password>'\n\nusermod -a -G idsldap root\ngroups root\n\n## Skip db2 installation\nmkdir -p /opt/ibm/ldap/V6.4/install\ntouch /opt/ibm/ldap/V6.4/install/IBMLDAP_INSTALL_SKIPDB2REQ\n\n## Install gskit\ncd /mnt/iso/ibm_gskit\nrpm -Uhv gsk*linux.x86_64.rpm\n\n## Install sds rpms\ncd /mnt/iso/license\n./idsLicense\n## Enter 1 to accept the license agreement\n\ncd /mnt/iso/images\nrpm --force -ihv idsldap*rpm\n\ncd /data/downloads/sds\nunzip sds64-premium-feature-act-pkg.zip\ncd sdsV6.4/entitlement\nrpm --force -ihv idsldap-ent64-6.4.0-0.x86_64.rpm\n\n## Install ibm jdk\ncd /mnt/iso/ibm_jdk\ntar -xf 6.0.16.2-ISS-JAVA-LinuxX64-FP0002.tar -C /opt/ibm/ldap/V6.4/\n\n## Setup db2 path\nvi /opt/ibm/ldap/V6.4/etc/ldapdb.properties\ncurrentDB2InstallPath=/opt/ibm/db2/V11.1\ncurrentDB2Version=11.1.0.0\n\n## Create and configure instance\ncd /opt/ibm/ldap/V6.4/sbin\n./idsadduser -u dsinst1 -g grinst1 -w <your-password>\n## Enter 1 to continue\n\n## Create instance\n./idsicrt -I dsinst1 -p 389 -s 636 -e mysecretkey! -l /home/dsinst1 -G grinst1 -w <your-password>\n## Enter 1 to continue\n\n## Configure a database for a directory server instance.\n./idscfgdb -I dsinst1 -a dsinst1 -w <your-password> -t dsinst1 -l /home/dsinst1\n\n## Set the administration DN and administrative password for an instance\n./idsdnpw -I dsinst1 –u cn=root –p <your-password>\n\n## Add suffix\n./idscfgsuf -I dsinst1 -s o=IBM,c=US\n`}</code></pre>\n    <h3>{`Operating the SDS Server`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`## Start the directory server\n./ibmslapd -I dsinst1\n\n## Stop the directory server\n./ibmslapd -I dsinst1 -k\n\n## Start or stop the administration server\n./ibmdiradm -I dsinst1\n\n## Stop the administration server\n./ibmdiradm -I dsinst1 -k\n\n## Verify the server\ncd /opt/ibm/ldap/V6.4/bin\n./ldapsearch -h ldap://169.47.178.137:389 -s base -b \" \" objectclass=* ibm-slapdisconfigurationmode\n`}</code></pre>\n    <h3>{`Import LDAP users and groups`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Install a tool such as `}<a parentName=\"li\" {...{\n          \"href\": \"http://sourceforge.net/projects/jxplorer/files/jxplorer/version%203.3.1.2/jxplorer-3.3.1.2-windows-installer.exe/download\"\n        }}>{`JXplorer`}</a>{` to browse your LDAP directory.`}</li>\n      <li parentName=\"ul\">{`Import the `}<a parentName=\"li\" {...{\n          \"href\": \"/assets/automation/shared/cp4a.ldif\"\n        }}><inlineCode parentName=\"a\">{`cp4a.ldif`}</inlineCode></a>{` LDAP Data Interchange Format file using this tool.`}</li>\n    </ul>\n    <h3>{`Uninstall SDS`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`# Remove existing GSK\nrpm -qa | grep -i gsk\nrpm -e \\`rpm -qa | grep -i gsk\\`\n\n# Remove all the other rpm\nrpm -ev idsldap-srv64bit64-6.4.0-0.x86_64.rpm\nrpm -qa | grep -i idsldap\nrpm -ev \\`rpm -qa | grep -i idsldap\\`\n`}</code></pre>\n    <h3>{`Connection information`}</h3>\n    <p>{`Upon install completion, you can test the install using the following connection information:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`URL: `}<inlineCode parentName=\"li\">{`ldap://<host>:389`}</inlineCode></li>\n      <li parentName=\"ul\">{`User: `}<inlineCode parentName=\"li\">{`cn=root`}</inlineCode></li>\n      <li parentName=\"ul\">{`Password: `}<inlineCode parentName=\"li\">{`<your-password>`}</inlineCode></li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}